{"ast":null,"code":"import _slicedToArray from\"C:/Users/Korisnik/Desktop/little-lemon-table-booking-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"C:/Users/Korisnik/Desktop/little-lemon-table-booking-main/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{useReducer}from'react';import{useNavigate}from'react-router-dom';import'./index.css';import{fetchAPI,submitAPI}from'../../../utils/fakeAPI';import pages from'../../../utils/pages';import BookingForm from'./BookingForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var updateTimes=function updateTimes(availableTimes,date){var response=fetchAPI(new Date(date));return response.length!==0?response:availableTimes;};var initializeTimes=function initializeTimes(initialAvailableTimes){return[].concat(_toConsumableArray(initialAvailableTimes),_toConsumableArray(fetchAPI(new Date())));};var Bookings=function Bookings(){var _useReducer=useReducer(updateTimes,[],initializeTimes),_useReducer2=_slicedToArray(_useReducer,2),availableTimes=_useReducer2[0],dispatchOnDateChange=_useReducer2[1];var navigate=useNavigate();var submitData=function submitData(formData){var response=submitAPI(formData);if(response)navigate(pages.get('confirmedBooking').path);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bookings\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Table reservation\"}),/*#__PURE__*/_jsx(BookingForm,{availableTimes:availableTimes,dispatchOnDateChange:dispatchOnDateChange,submitData:submitData})]});};export default Bookings;","map":{"version":3,"names":["useReducer","useNavigate","fetchAPI","submitAPI","pages","BookingForm","jsx","_jsx","jsxs","_jsxs","updateTimes","availableTimes","date","response","Date","length","initializeTimes","initialAvailableTimes","concat","_toConsumableArray","Bookings","_useReducer","_useReducer2","_slicedToArray","dispatchOnDateChange","navigate","submitData","formData","get","path","className","children"],"sources":["C:/Users/Korisnik/Desktop/little-lemon-table-booking-main/src/components/pages/Bookings/index.js"],"sourcesContent":["import { useReducer } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './index.css';\nimport { fetchAPI, submitAPI } from '../../../utils/fakeAPI';\nimport pages from '../../../utils/pages';\nimport BookingForm from './BookingForm';\n\nconst updateTimes = (availableTimes, date) => {\n  const response = fetchAPI(new Date(date));\n  return (response.length !== 0) ? response : availableTimes; \n};\n\nconst initializeTimes = initialAvailableTimes => \n  [...initialAvailableTimes, ...fetchAPI(new Date())];\n\nconst Bookings = () => {\n  const [\n    availableTimes, \n    dispatchOnDateChange\n  ] = useReducer(updateTimes, [], initializeTimes);\n  const navigate = useNavigate();\n\n  const submitData = formData => {\n    const response = submitAPI(formData);\n    if (response) navigate(pages.get('confirmedBooking').path);\n  }; \n\n  return (\n    <div className=\"bookings\">\n      <h2>Table reservation</h2>\n      <BookingForm \n        availableTimes={availableTimes} \n        dispatchOnDateChange={dispatchOnDateChange} \n        submitData={submitData} \n      />\n    </div>\n  );\n};\n\nexport default Bookings;\n"],"mappings":"sSAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,aAAa,CACpB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,wBAAwB,CAC5D,MAAO,CAAAC,KAAK,KAAM,sBAAsB,CACxC,MAAO,CAAAC,WAAW,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,cAAc,CAAEC,IAAI,CAAK,CAC5C,GAAM,CAAAC,QAAQ,CAAGX,QAAQ,CAAC,GAAI,CAAAY,IAAI,CAACF,IAAI,CAAC,CAAC,CACzC,MAAQ,CAAAC,QAAQ,CAACE,MAAM,GAAK,CAAC,CAAIF,QAAQ,CAAGF,cAAc,CAC5D,CAAC,CAED,GAAM,CAAAK,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAGC,qBAAqB,WAAAC,MAAA,CAAAC,kBAAA,CACvCF,qBAAqB,EAAAE,kBAAA,CAAKjB,QAAQ,CAAC,GAAI,CAAAY,IAAI,EAAE,CAAC,IAAC,CAErD,GAAM,CAAAM,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAA,CAAS,CACrB,IAAAC,WAAA,CAGIrB,UAAU,CAACU,WAAW,CAAE,EAAE,CAAEM,eAAe,CAAC,CAAAM,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAF9CV,cAAc,CAAAW,YAAA,IACdE,oBAAoB,CAAAF,YAAA,IAEtB,GAAM,CAAAG,QAAQ,CAAGxB,WAAW,EAAE,CAE9B,GAAM,CAAAyB,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAGC,QAAQ,CAAI,CAC7B,GAAM,CAAAd,QAAQ,CAAGV,SAAS,CAACwB,QAAQ,CAAC,CACpC,GAAId,QAAQ,CAAEY,QAAQ,CAACrB,KAAK,CAACwB,GAAG,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAAC,CAC5D,CAAC,CAED,mBACEpB,KAAA,QAAKqB,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBxB,IAAA,OAAAwB,QAAA,CAAI,mBAAiB,EAAK,cAC1BxB,IAAA,CAACF,WAAW,EACVM,cAAc,CAAEA,cAAe,CAC/Ba,oBAAoB,CAAEA,oBAAqB,CAC3CE,UAAU,CAAEA,UAAW,EACvB,GACE,CAEV,CAAC,CAED,cAAe,CAAAN,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}